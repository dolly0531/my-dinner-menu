<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ç§æˆ¿èœå–® App v2.0</title>
    <style>
        /* --- CSS å¤–è§€è¨­è¨ˆå€ --- */
        
        body {
            font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
        }

        /* é ‚éƒ¨å°è¦½åˆ—è¨­è¨ˆ */
        .header {
            display: flex;
            align-items: center; /* å‚ç›´ç½®ä¸­ */
            justify-content: space-between; /* å·¦å³æ’é–‹ */
            margin-bottom: 15px;
        }

        /* æˆ¿å­æŒ‰éˆ• (å›ä¸»é ) */
        .home-btn {
            font-size: 24px;
            cursor: pointer;
            text-decoration: none;
            background: white;
            border-radius: 50%; /* åœ“å½¢ */
            width: 40px; height: 40px;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .home-btn:active { transform: scale(0.9); } /* é»ä¸‹å»ç¸®å°ä¸€é»çš„æ•ˆæœ */

        h1 { margin: 0; font-size: 22px; color: #333; flex-grow: 1; text-align: center; }

        /* æœå°‹æ¡†è¨­è¨ˆ */
        .search-container {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }

        .search-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
        .search-input:focus { border-color: #4CAF50; }

        /* åˆ†é¡æŒ‰éˆ•å€ */
        .filter-bar {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }
        
        .btn {
            background-color: white;
            border: 1px solid #ddd;
            padding: 8px 16px;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn.active, .btn:hover { background-color: #ff9800; color: white; border-color: #ff9800; }

        /* å¡ç‰‡åˆ—è¡¨å€ */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .card {
            background: white; border-radius: 12px; overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); cursor: pointer;
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-5px); }
        .card-img { width: 100%; height: 120px; background-color: #eee; object-fit: cover; }
        .card-body { padding: 10px; }
        .card-title { margin: 0; font-size: 16px; font-weight: bold; }
        .card-tag { font-size: 12px; color: #888; margin-top: 5px; }

        /* å½ˆå‡ºè¦–çª— */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: white; width: 90%; max-width: 400px; border-radius: 15px; padding: 20px; position: relative;
        }
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: #aaa; }
        .ingredient-tag {
            display: inline-block; background: #e0f7fa; color: #006064; padding: 5px 10px;
            border-radius: 5px; margin: 5px 5px 0 0; font-size: 14px; cursor: pointer; text-decoration: underline;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="home-btn" onclick="goHome()">ğŸ </div> 
        <h1 id="pageTitle">ä»Šå¤©åƒä»€éº¼ï¼Ÿ</h1>
        <div style="width: 40px;"></div> </div>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="ğŸ” æœå°‹èœåã€é£Ÿæ (ä¾‹å¦‚: è›‹)..." oninput="searchMenu(this.value)">
    </div>

    <div class="filter-bar">
        <button class="btn active" onclick="filterMenu('all')">å…¨éƒ¨</button>
        <button class="btn" onclick="filterMenu('ä¸­å¼')">ä¸­å¼</button>
        <button class="btn" onclick="filterMenu('è¥¿å¼')">è¥¿å¼</button>
        <button class="btn" onclick="filterMenu('éŸ“å¼')">éŸ“å¼</button>
        <button class="btn" onclick="filterMenu('ç”œé»')">ç”œé»</button>
    </div>

    <div class="menu-grid" id="menuContainer"></div>

    <div class="modal-overlay" id="detailModal" onclick="closeModal(event)">
        <div class="modal-content">
            <span class="close-btn" onclick="document.getElementById('detailModal').style.display='none'">&times;</span>
            <h2 id="modalTitle">èœå</h2>
            <img id="modalImg" src="" style="width:100%; border-radius:10px; margin-bottom:10px;">
            <p><strong>åˆ†é¡ï¼š</strong><span id="modalCategory"></span></p>
            <p><strong>é£Ÿæ (é»æ“Šå¯æœå°‹)ï¼š</strong></p>
            <div id="modalIngredients"></div>
            <br>
            <button class="btn" style="width:100%; background:#4CAF50; color:white;" onclick="alert('é€£çµ Google åœ°åœ–åŠŸèƒ½å¾…é–‹ç™¼ï¼')">ğŸ“ å»å“ªè£¡è²·/åƒï¼Ÿ</button>
        </div>
    </div>

    <script>
        /* --- è³‡æ–™åº«å€ --- */
        const menuData = [
            { id: 1, name: "éŸ“å¼éƒ¨éšŠé‹", category: "éŸ“å¼", image: "https://placehold.co/300x200/ffcccc/333?text=éƒ¨éšŠé‹", ingredients: ["æ³¡èœ", "è±†è…", "åˆé¤è‚‰", "èµ·å¸", "æ‹‰éºµ"] },
            { id: 2, name: "éº»å©†è±†è…", category: "ä¸­å¼", image: "https://placehold.co/300x200/cc0000/fff?text=éº»å©†è±†è…", ingredients: ["è±†è…", "çµè‚‰", "è±†ç“£é†¬", "è”¥"] },
            { id: 3, name: "å¥¶æ²¹åŸ¹æ ¹ç¾©å¤§åˆ©éºµ", category: "è¥¿å¼", image: "https://placehold.co/300x200/ffffcc/333?text=ç¾©å¤§åˆ©éºµ", ingredients: ["ç¾©å¤§åˆ©éºµ", "åŸ¹æ ¹", "é›è›‹", "é®®å¥¶æ²¹"] },
            { id: 4, name: "è‰è“å¤§ç¦", category: "ç”œé»", image: "https://placehold.co/300x200/ff99cc/fff?text=è‰è“å¤§ç¦", ingredients: ["è‰è“", "ç³¯ç±³ç²‰", "ç´…è±†æ³¥"] },
            { id: 5, name: "æ³¡èœç‚’é£¯", category: "éŸ“å¼", image: "https://placehold.co/300x200/ff6600/fff?text=æ³¡èœç‚’é£¯", ingredients: ["ç™½é£¯", "æ³¡èœ", "é›è›‹", "æµ·è‹”"] }
        ];

        /* --- é‚è¼¯å€ --- */
        const menuContainer = document.getElementById('menuContainer');
        const pageTitle = document.getElementById('pageTitle');
        const searchInput = document.getElementById('searchInput');

        // å•Ÿå‹•æ™‚é¡¯ç¤ºæ‰€æœ‰
        renderMenu(menuData);

        // é¡¯ç¤ºèœå–®å‡½å¼
        function renderMenu(data) {
            menuContainer.innerHTML = "";
            if(data.length === 0) {
                menuContainer.innerHTML = "<p style='text-align:center; width:100%; color:#888;'>æ‰¾ä¸åˆ°ç›¸é—œæ–™ç†ï¼Œæ›å€‹é—œéµå­—è©¦è©¦ï¼Ÿ</p>";
                return;
            }
            data.forEach(item => {
                const cardHTML = `
                    <div class="card" onclick="showDetail(${item.id})">
                        <img src="${item.image}" class="card-img">
                        <div class="card-body">
                            <div class="card-title">${item.name}</div>
                            <div class="card-tag">#${item.category}</div>
                        </div>
                    </div>`;
                menuContainer.innerHTML += cardHTML;
            });
        }

        // --- æ–°å¢åŠŸèƒ½ï¼šæœå°‹ ---
        function searchMenu(keyword) {
            // æŠŠè¼¸å…¥çš„å­—è®Šå°å¯« (æ¯”è¼ƒå¥½æ¯”å°)
            const lowerKeyword = keyword.toLowerCase().trim();

            if (!lowerKeyword) {
                renderMenu(menuData); // å¦‚æœæ²’æ‰“å­—ï¼Œé¡¯ç¤ºå…¨éƒ¨
                return;
            }

            // éæ¿¾é‚è¼¯ï¼šåªè¦ (èœåæœ‰åŒ…å«) æˆ–è€… (é£Ÿææ¸…å–®è£¡æœ‰åŒ…å«)
            const filtered = menuData.filter(item => {
                const matchName = item.name.toLowerCase().includes(lowerKeyword);
                const matchIngredient = item.ingredients.some(ing => ing.toLowerCase().includes(lowerKeyword));
                return matchName || matchIngredient;
            });

            renderMenu(filtered);
        }

        // --- æ–°å¢åŠŸèƒ½ï¼šå›ä¸»é  (æˆ¿å­æŒ‰éˆ•) ---
        function goHome() {
            renderMenu(menuData); // é¡¯ç¤ºæ‰€æœ‰è³‡æ–™
            pageTitle.innerText = "ä»Šå¤©åƒä»€éº¼ï¼Ÿ"; // æ¨™é¡Œæ”¹å›ä¾†
            searchInput.value = ""; // æ¸…ç©ºæœå°‹æ¡†
            
            // æŠŠæ‰€æœ‰åˆ†é¡æŒ‰éˆ•çš„ active æ¨£å¼å»æ‰ï¼Œåªç•™çµ¦ã€Œå…¨éƒ¨ã€
            document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.btn').classList.add('active'); // å‡è¨­ç¬¬ä¸€å€‹æŒ‰éˆ•æ˜¯ã€Œå…¨éƒ¨ã€
        }

        // åˆ†é¡ç¯©é¸
        function filterMenu(category) {
            // æ¸…ç©ºæœå°‹æ¡†ï¼Œé¿å…æ··æ·†
            searchInput.value = "";
            
            if (category === 'all') {
                renderMenu(menuData);
            } else {
                const filtered = menuData.filter(item => item.category === category);
                renderMenu(filtered);
            }
        }

        // è©³ç´°è¦–çª—ç›¸é—œ
        function showDetail(id) {
            const item = menuData.find(d => d.id === id);
            document.getElementById('modalTitle').innerText = item.name;
            document.getElementById('modalImg').src = item.image;
            document.getElementById('modalCategory').innerText = item.category;
            
            const ingArea = document.getElementById('modalIngredients');
            ingArea.innerHTML = "";
            item.ingredients.forEach(ing => {
                ingArea.innerHTML += `<span class="ingredient-tag" onclick="searchIngredient('${ing}')">${ing}</span>`;
            });
            document.getElementById('detailModal').style.display = 'flex';
        }

        function searchIngredient(ingredientName) {
            document.getElementById('detailModal').style.display = 'none';
            
            // æŠŠé£Ÿæåç¨±å¡«å…¥æœå°‹æ¡†ï¼Œè§¸ç™¼æœå°‹
            searchInput.value = ingredientName;
            searchMenu(ingredientName);
            
            pageTitle.innerText = `ğŸ” åŒ…å«ã€Œ${ingredientName}ã€çš„æ–™ç†`;
        }

        function closeModal(e) {
            if (e.target.id === 'detailModal') e.target.style.display = 'none';
        }
    </script>
</body>
</html>