<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ç§æˆ¿èœå–® App v3.0</title>
    <style>
        /* --- CSS å¤–è§€è¨­è¨ˆå€ --- */
        body { font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif; background-color: #f4f7f6; margin: 0; padding: 20px; }

        /* é ‚éƒ¨å°è¦½åˆ— */
        .header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; }
        .home-btn { font-size: 24px; cursor: pointer; text-decoration: none; background: white; border-radius: 50%; width: 40px; height: 40px; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .home-btn:active { transform: scale(0.9); }
        h1 { margin: 0; font-size: 22px; color: #333; flex-grow: 1; text-align: center; }

        /* æœå°‹æ¡† */
        .search-container { margin-bottom: 20px; display: flex; gap: 10px; }
        .search-input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 25px; font-size: 16px; outline: none; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); }
        .search-input:focus { border-color: #4CAF50; }

        /* åˆ†é¡æŒ‰éˆ•å€ (å¯æ»‘å‹•) */
        .filter-bar { display: flex; overflow-x: auto; gap: 8px; padding-bottom: 10px; margin-bottom: 10px; scrollbar-width: none; }
        .filter-bar::-webkit-scrollbar { display: none; } /* éš±è—æ²è»¸ */
        .btn { background-color: white; border: 1px solid #ddd; padding: 8px 16px; border-radius: 20px; white-space: nowrap; cursor: pointer; transition: 0.3s; font-size: 14px; }
        .btn.active, .btn:hover { background-color: #ff9800; color: white; border-color: #ff9800; }

        /* å¡ç‰‡åˆ—è¡¨å€ */
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.2s; display: flex; flex-direction: column;}
        .card:hover { transform: translateY(-5px); }
        /* åœ–ç‰‡é è¨­é«˜åº¦ */
        .card-img { width: 100%; height: 120px; background-color: #eee; object-fit: cover; }
        .card-body { padding: 10px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .card-title { margin: 0; font-size: 16px; font-weight: bold; color: #333; }
        .card-tag { font-size: 12px; color: #888; margin-top: 5px; }

        /* å½ˆå‡ºè¦–çª— */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000; }
        .modal-content { background: white; width: 90%; max-width: 400px; max-height: 90vh; overflow-y: auto; border-radius: 15px; padding: 20px; position: relative; }
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: #aaa; }
        
        /* é£Ÿææ¨™ç±¤ */
        .ingredient-tag { display: inline-block; background: #e0f7fa; color: #006064; padding: 5px 10px; border-radius: 5px; margin: 5px 5px 0 0; font-size: 14px; cursor: pointer; text-decoration: underline; }
        .ingredient-tag:hover { background: #b2ebf2; }

        /* é€£çµæŒ‰éˆ•å€ */
        .action-buttons { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; }
        .action-btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; text-decoration: none; }
        .btn-youtube { background-color: #FF0000; color: white; }
        .btn-recipe { background-color: #FF9800; color: white; }
    </style>
</head>
<body>

    <div class="header">
        <div class="home-btn" onclick="goHome()">ğŸ </div> 
        <h1 id="pageTitle">ä»Šå¤©åƒä»€éº¼ï¼Ÿ</h1>
        <div style="width: 40px;"></div>
    </div>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="ğŸ” æœå°‹èœåã€é£Ÿæ (å¦‚: è›‹, é›è‚‰)..." oninput="searchMenu(this.value)">
    </div>

    <div class="filter-bar" id="categoryContainer">
        </div>

    <div class="menu-grid" id="menuContainer"></div>

    <div class="modal-overlay" id="detailModal" onclick="closeModal(event)">
        <div class="modal-content">
            <span class="close-btn" onclick="document.getElementById('detailModal').style.display='none'">&times;</span>
            <h2 id="modalTitle" style="margin-top:0;">èœå</h2>
            <img id="modalImg" src="" style="width:100%; border-radius:10px; margin-bottom:10px; height: 200px; object-fit: cover; background: #eee;">
            
            <p><strong>åˆ†é¡ï¼š</strong><span id="modalCategory"></span></p>
            
            <p style="margin-bottom: 5px;"><strong>é£Ÿæ (é»æ“Šå¯æœå°‹)ï¼š</strong></p>
            <div id="modalIngredients"></div>
            
            <div class="action-buttons" id="modalActions">
                </div>
        </div>
    </div>

    <script>
        /* --- è‡ªå‹•åŒ–è³‡æ–™åº«ï¼šæˆ‘å¹«ä½ å¡«å¥½äº†é£Ÿæ --- */
        /* æ³¨æ„ï¼šåœ–ç‰‡éƒ¨åˆ† (image) è«‹ä½ è‡ªå·±æŠŠç…§ç‰‡æ”¾é€² images è³‡æ–™å¤¾ï¼Œä¸¦ä¿®æ”¹æª”å */
        const menuData = [
            // --- ç”œé»é¡ (Desserts) ---
            { id: 1, category: "ç”œé»", name: "è‚‰æ¡‚æ²", image: "images/cinnamon_roll.webp", ingredients: ["éºµç²‰", "è‚‰æ¡‚ç²‰", "é»‘ç³–", "å¥¶æ²¹", "æ ¸æ¡ƒ"] },
            { id: 2, category: "ç”œé»", name: "åƒå±¤è›‹ç³•", image: "images/crepe_cake.jfif", ingredients: ["é›è›‹", "ç‰›å¥¶", "ä½ç­‹éºµç²‰", "é®®å¥¶æ²¹", "ç³–"] },
            { id: 3, category: "ç”œé»", name: "å¤æ—©å‘³è›‹ç³•", image: "images/sponge_cake.jfif", ingredients: ["é›è›‹", "éºµç²‰", "æ¤ç‰©æ²¹", "ç‰›å¥¶", "ç³–"] },
            { id: 4, category: "ç”œé»", name: "ç”Ÿä¹³æ²", image: "images/cream_roll.avif", ingredients: ["é®®å¥¶æ²¹", "é›è›‹", "éºµç²‰", "èœ‚èœœ"] },
            { id: 5, category: "ç”œé»", name: "å·´æ–¯å…‹ä¹³é…ªè›‹ç³•", image: "images/basque_cake.jpg", ingredients: ["å¥¶æ²¹ä¹³é…ª", "é®®å¥¶æ²¹", "é›è›‹", "ç³–", "ä½ç­‹éºµç²‰"] },
            { id: 6, category: "ç”œé»", name: "é¦™è•‰ç‡•éº¥è›‹ç³•", image: "images/banana_oat_cake.jpg", ingredients: ["é¦™è•‰", "ç‡•éº¥", "é›è›‹", "ç‰›å¥¶", "æ³¡æ‰“ç²‰"] },
            { id: 7, category: "ç”œé»", name: "ç‘å£«å·", image: "images/swiss_roll.webp", ingredients: ["é›è›‹", "æœé†¬", "éºµç²‰", "é®®å¥¶æ²¹"] },
            { id: 8, category: "ç”œé»", name: "è˜‹æœæ´¾(ç±³ç´™ç‰ˆ)", image: "images/apple_pie.jpg", ingredients: ["è˜‹æœ", "è¶Šå—ç±³ç´™", "è‚‰æ¡‚ç²‰", "å¥¶æ²¹", "ä»£ç³–"] },
            { id: 9, category: "ç”œé»", name: "é¥…é ­", image: "images/steamed_bun.avif", ingredients: ["ä¸­ç­‹éºµç²‰", "é…µæ¯", "ç³–", "æ°´"] },
            { id: 10, category: "ç”œé»", name: "è²æœ", image: "images/bagel.avif", ingredients: ["é«˜ç­‹éºµç²‰", "é…µæ¯", "ç³–", "é¹½", "æ°´"] },
            { id: 11, category: "ç”œé»", name: "é¦™è•‰ç…é¤…", image: "images/banana_pancake.jpg", ingredients: ["é¦™è•‰", "éºµç²‰", "é›è›‹", "ç‰›å¥¶"] },
            { id: 12, category: "ç”œé»", name: "æä»ç“¦ç‰‡", image: "images/almond_tuiles.jpg", ingredients: ["æä»ç‰‡", "è›‹ç™½", "ç³–", "å¥¶æ²¹", "éºµç²‰"] },
            { id: 13, category: "ç”œé»", name: "é®®å¥¶é…ª", image: "images/panna_cotta.jpg", ingredients: ["ç‰›å¥¶", "é®®å¥¶æ²¹", "å‰åˆ©ä¸", "ç³–"] }, /* âš ï¸æ³¨æ„ï¼šæˆªåœ–ä¸­æœªçœ‹åˆ°æ­¤åœ– */
            { id: 14, category: "ç”œé»", name: "çƒ¤å¸ƒä¸", image: "images/pudding.jpg", ingredients: ["é›è›‹", "ç‰›å¥¶", "ç³–", "é¦™è‰ç²¾"] },
            { id: 15, category: "ç”œé»", name: "è±†èŠ±", image: "images/tofu_pudding.jpg", ingredients: ["è±†æ¼¿", "è±†èŠ±ç²‰", "èŠ±ç”Ÿ", "ç³–æ°´"] },
            { id: 16, category: "ç”œé»", name: "å„ªæ ¼ç¢—", image: "images/yogurt_bowl.jpg", ingredients: ["å¸Œè‡˜å„ªæ ¼", "è—è“", "èœ‚èœœ", "å …æœ"] },

            // --- ç•°åœ‹æ–™ç† (Exotic) ---
            { id: 20, category: "ç•°åœ‹æ–™ç†", name: "è‚‰éª¨èŒ¶", image: "images/bak_kut_teh.jpg", ingredients: ["æ’éª¨", "è’œé ­", "è‚‰éª¨èŒ¶åŒ…", "é†¬æ²¹", "ç™½èƒ¡æ¤’"] },
            { id: 21, category: "ç•°åœ‹æ–™ç†", name: "æ‰“æ‹‹è±¬", image: "images/thai_basil_pork.jpg", ingredients: ["è±¬çµè‚‰", "ä¹å±¤å¡”", "è¾£æ¤’", "è’œé ­", "é­šéœ²", "æª¸æª¬"] },
            { id: 22, category: "ç•°åœ‹æ–™ç†", name: "æ³°å¼ç¶ å’–å“©é›", image: "images/green_curry.jpg", ingredients: ["ç¶ å’–å“©é†¬", "æ¤°å¥¶", "é›è‚‰", "èŒ„å­", "ä¹å±¤å¡”"] },
            { id: 23, category: "ç•°åœ‹æ–™ç†", name: "éŸ“å¼ç‚¸é›", image: "images/korean_fried_chicken.jpg", ingredients: ["é›ç¿…", "éŸ“å¼è¾£é†¬", "ç•ªèŒ„é†¬", "è’œæœ«", "ç‚¸ç²‰"] },
            { id: 24, category: "ç•°åœ‹æ–™ç†", name: "éŸ“å¼æ³¡èœé‹", image: "images/kimchi_pot.jpg", ingredients: ["æ³¡èœ", "è±¬è‚‰ç‰‡", "è±†è…", "é‡‘é‡è‡", "éŸ“å¼è¾£é†¬"] },
            { id: 25, category: "ç•°åœ‹æ–™ç†", name: "æ—¥å¼è±šéª¨æ‹‰éºµ", image: "images/tonkotsu_ramen.jpg", ingredients: ["æ‹‰éºµ", "å‰ç‡’è‚‰", "ç­ä¹¾", "æºå¿ƒè›‹", "æµ·è‹”"] },
            { id: 26, category: "ç•°åœ‹æ–™ç†", name: "æ—¥å¼é®­é­šå‘³å™Œæ¹¯", image: "images/salmon_miso_soup.jpg", ingredients: ["é®­é­š", "å‘³å™Œ", "è±†è…", "æµ·å¸¶èŠ½", "è”¥èŠ±"] },

            // --- è¥¿å¼æ–™ç† (Western) ---
            { id: 30, category: "è¥¿å¼æ–™ç†", name: "è¥¿ç­ç‰™æµ·é®®ç‡‰é£¯", image: "images/seafood_paella.jpg", ingredients: ["ç±³", "è¦å­", "è›¤èœŠ", "ç•ªç´…èŠ±", "ç”œæ¤’", "é›é«˜æ¹¯"] },
            { id: 31, category: "è¥¿å¼æ–™ç†", name: "ç¾©å¤§åˆ©éºµ", image: "images/pasta.jpg", ingredients: ["ç¾©å¤§åˆ©éºµ", "æ©„æ¬–æ²¹", "è’œç‰‡", "è¾£æ¤’", "åŸ¹æ ¹"] },
            { id: 32, category: "è¥¿å¼æ–™ç†", name: "å¥¶æ²¹è˜‘è‡æ¿ƒæ¹¯", image: "images/mushroom_soup.jpg", ingredients: ["è˜‘è‡", "æ´‹è”¥", "é®®å¥¶æ²¹", "å¥¶æ²¹", "éºµç²‰"] },
            { id: 33, category: "è¥¿å¼æ–™ç†", name: "å—ç“œé›è‚‰ç‡‰é£¯", image: "images/pumpkin_risotto.webp", ingredients: ["å—ç“œ", "é›è‚‰", "ç±³", "èµ·å¸", "æ´‹è”¥"] },
            { id: 34, category: "è¥¿å¼æ–™ç†", name: "é¦™ç…é¦¬éˆ´è–¯é›è‚‰", image: "images/chicken_potato.webp", ingredients: ["é›è…¿è‚‰", "é¦¬éˆ´è–¯", "è¿·è¿­é¦™", "è’œé ­", "é»‘èƒ¡æ¤’"] },

            // --- å®¶å¸¸èœ (Home-style) ---
            { id: 40, category: "å®¶å¸¸èœ", name: "ç‰›è‚‰ä¸¼é£¯", image: "images/beef_don.jpg", ingredients: ["ç‰›è‚‰ç‰‡", "æ´‹è”¥", "é†¬æ²¹", "å‘³é†‚", "é›è›‹"] },
            { id: 41, category: "å®¶å¸¸èœ", name: "è¦ªå­ä¸¼", image: "images/oyako_don.jpg", ingredients: ["é›è‚‰", "é›è›‹", "æ´‹è”¥", "æŸ´é­šé†¬æ²¹"] },
            { id: 42, category: "å®¶å¸¸èœ", name: "æ»·è‚‰é£¯", image: "images/braised_pork_rice.jpg", ingredients: ["äº”èŠ±çµè‚‰", "ç´…è”¥é ­", "é†¬æ²¹", "å†°ç³–", "äº”é¦™ç²‰"] },
            { id: 43, category: "å®¶å¸¸èœ", name: "ç•ªèŒ„ç‡‰ç‰›è‚‰", image: "images/tomato_beef_stew.jpg", ingredients: ["ç‰›è‚‹æ¢", "ç•ªèŒ„", "æ´‹è”¥", "ç´…è˜¿è””", "æœˆæ¡‚è‘‰"] },
            { id: 44, category: "å®¶å¸¸èœ", name: "å‰çš®è¾£æ¤’é›æ¹¯", image: "images/chili_chicken_soup.jpg", ingredients: ["é›è…¿è‚‰", "å‰çš®è¾£æ¤’", "è–‘ç‰‡", "è›¤èœŠ"] },
            { id: 45, category: "å®¶å¸¸èœ", name: "éº»æ²¹è›‹éºµç·š", image: "images/sesame_oil_noodles.webp", ingredients: ["éºµç·š", "é›è›‹", "é»‘éº»æ²¹", "è€è–‘"] },
            { id: 46, category: "å®¶å¸¸èœ", name: "éº»è¾£é´¨è¡€è±†è…", image: "images/spicy_duck_blood.jpg", ingredients: ["é´¨è¡€", "è±†è…", "éº»è¾£æ¹¯åº•", "é…¸èœ", "è’œè‹—"] },
            { id: 47, category: "å®¶å¸¸èœ", name: "æ—¥å¼è’¸è›‹è±†è…", image: "images/steamed_egg_tofu.jpg", ingredients: ["é›è›‹", "å«©è±†è…", "æŸ´é­šé«˜æ¹¯", "è¦ä»"] },

            // --- å¥åº·æ–™ç† (Healthy) ---
            { id: 50, category: "å¥åº·æ–™ç†", name: "ç”Ÿèœæ²™æ‹‰", image: "images/salad.jpg", ingredients: ["ç”Ÿèœ", "å°ç•ªèŒ„", "é›èƒ¸è‚‰", "ç‰ç±³", "å’Œé¢¨é†¬"] },
            { id: 51, category: "å¥åº·æ–™ç†", name: "é¦™ç…é›èƒ¸è‚‰", image: "images/pan_seared_chicken.jpg", ingredients: ["é›èƒ¸è‚‰", "ç¾©å¼é¦™æ–™", "é»‘èƒ¡æ¤’", "æ©„æ¬–æ²¹"] },
            { id: 52, category: "å¥åº·æ–™ç†", name: "æ°£ç‚¸é›å¡Š(è‡ªè£½)", image: "images/airfryer_nuggets.jpg", ingredients: ["é›çµè‚‰", "è±†è…", "è’œç²‰", "èƒ¡æ¤’é¹½"] },
            { id: 53, category: "å¥åº·æ–™ç†", name: "æ°£ç‚¸åœ°ç“œæ¢", image: "images/sweet_potato_fries.jpg", ingredients: ["åœ°ç“œ", "æ©„æ¬–æ²¹", "æ¢…å­ç²‰"] },

            // --- ç†±ç‚’ (Stir-fry) ---
            { id: 60, category: "ç†±ç‚’", name: "ç‚’é’èœ", image: "images/stir_fry_veggie.jpg", ingredients: ["ç•¶å­£é’èœ", "è’œé ­", "é¹½"] },
            { id: 61, category: "ç†±ç‚’", name: "è”¥çˆ†ç‰›è‚‰", image: "images/scallion_beef.jpg", ingredients: ["ç‰›è‚‰ç‰‡", "å¤§é‡è”¥æ®µ", "è¾£æ¤’", "é†¬æ²¹", "ç±³é…’"] },
            { id: 62, category: "ç†±ç‚’", name: "é†¬ç‡’è±†è…", image: "images/soy_sauce_tofu.webp", ingredients: ["æ¿è±†è…", "é†¬æ²¹", "è”¥", "ç³–"] },
            { id: 63, category: "ç†±ç‚’", name: "æ°´è“®ç‚’è›‹", image: "images/water_lily_egg.jpg", ingredients: ["æ°´è“®", "é›è›‹", "è’œé ­", "ç ´å¸ƒå­"] },
            { id: 64, category: "ç†±ç‚’", name: "é‡‘æ²™è±†è…", image: "images/salted_egg_tofu.jpg", ingredients: ["é›è›‹è±†è…", "é¹¹è›‹é»ƒ", "è”¥èŠ±", "è¾£æ¤’"] },
            { id: 65, category: "ç†±ç‚’", name: "ç•ªèŒ„ç‚’è›‹", image: "images/tomato_scrambled_eggs.jpg", ingredients: ["ç•ªèŒ„", "é›è›‹", "è”¥èŠ±", "ç•ªèŒ„é†¬"] },
            { id: 66, category: "ç†±ç‚’", name: "é¦™ç…é®­é­š", image: "images/pan_seared_salmon.jpg", ingredients: ["é®­é­šæ’", "é¹½", "æª¸æª¬", "é»‘èƒ¡æ¤’"] },
            { id: 67, category: "ç†±ç‚’", name: "ä¹å±¤å¡”ç‚’è›¤èœŠ", image: "images/basil_clams.jpg", ingredients: ["è›¤èœŠ", "ä¹å±¤å¡”", "è’œé ­", "è¾£æ¤’", "ç±³é…’"] },
            { id: 68, category: "ç†±ç‚’", name: "éº»å©†è±†è…", image: "images/mapo_tofu.jpg", ingredients: ["å«©è±†è…", "çµè‚‰", "è±†ç“£é†¬", "èŠ±æ¤’æ²¹"] },
            { id: 69, category: "ç†±ç‚’", name: "èƒ¡æ¤’è¦", image: "images/pepper_shrimp.jpg", ingredients: ["è¦å­", "ç™½èƒ¡æ¤’ç²‰", "ç±³é…’", "é¹½", "è’œé ­"] },

            // --- å°åƒ/æ—©åˆé¤ (Snacks) ---
            { id: 70, category: "å°åƒ/æ—©åˆé¤", name: "è”¥æ²¹é¤…", image: "images/scallion_pancake.jfif", ingredients: ["éºµç²‰", "è”¥èŠ±", "è±¬æ²¹", "æ¤’é¹½ç²‰"] },
            { id: 71, category: "å°åƒ/æ—©åˆé¤", name: "ç‰å­ç‡’", image: "images/tamagoyaki.jpg", ingredients: ["é›è›‹", "ç‰›å¥¶", "å‘³é†‚", "ç³–"] },
            { id: 72, category: "å°åƒ/æ—©åˆé¤", name: "è›‹é¤…", image: "images/egg_pancake_roll.avif", ingredients: ["è›‹é¤…çš®", "é›è›‹", "é®ªé­š/ç‰ç±³/èµ·å¸"] },
            { id: 73, category: "å°åƒ/æ—©åˆé¤", name: "æ³•å¼åå¸", image: "images/french_toast.jpg", ingredients: ["åšç‰‡åå¸", "é›è›‹", "ç‰›å¥¶", "å¥¶æ²¹", "èœ‚èœœ"] },
            { id: 74, category: "å°åƒ/æ—©åˆé¤", name: "æ°´é¤ƒ", image: "images/dumplings.jpg", ingredients: ["æ°´é¤ƒ", "é†¬æ²¹", "é¦™æ²¹"] },
            { id: 75, category: "å°åƒ/æ—©åˆé¤", name: "ç…é¤ƒ", image: "images/pan_fried_dumplings.jpg", ingredients: ["æ°´é¤ƒ", "éºµç²‰æ°´", "æ²¹"] },
            { id: 76, category: "å°åƒ/æ—©åˆé¤", name: "ç‚’æ³¡éºµ", image: "images/fried_instant_noodles.jpg", ingredients: ["æ³¡éºµ", "é«˜éº—èœ", "é›è›‹", "è‚‰ç‰‡"] },
            { id: 77, category: "å°åƒ/æ—©åˆé¤", name: "é‹ç‡’æ„éºµ", image: "images/pot_noodles.jpg", ingredients: ["æ„éºµ", "è¦å­", "è›¤èœŠ", "é›è›‹", "æ²™èŒ¶é†¬"] },
            { id: 78, category: "å°åƒ/æ—©åˆé¤", name: "æ¸…ç²¥å°èœ", image: "images/congee.jpg", ingredients: ["ç™½ç±³/åœ°ç“œ", "è‚‰é¬†", "é†¬ç“œ", "éºµç­‹"] } /* âš ï¸ é‡è¦ï¼šè«‹çœ‹ä¸‹æ–¹èªªæ˜ */
        ];
        /* --- é‚è¼¯å€ --- */
        const menuContainer = document.getElementById('menuContainer');
        const categoryContainer = document.getElementById('categoryContainer');
        const pageTitle = document.getElementById('pageTitle');
        const searchInput = document.getElementById('searchInput');

        // è‡ªå‹•ç”¢ç”Ÿåˆ†é¡æŒ‰éˆ•
        function renderCategories() {
            const categories = ['all', ...new Set(menuData.map(item => item.category))];
            categoryContainer.innerHTML = categories.map(cat => 
                `<button class="btn ${cat === 'all' ? 'active' : ''}" onclick="filterMenu('${cat}')">
                    ${cat === 'all' ? 'å…¨éƒ¨' : cat}
                </button>`
            ).join('');
        }

        // æ¸²æŸ“èœå–®
        function renderMenu(data) {
            menuContainer.innerHTML = "";
            if(data.length === 0) {
                menuContainer.innerHTML = "<p style='text-align:center; width:100%; color:#888;'>æ‰¾ä¸åˆ°ç›¸é—œæ–™ç†ï¼Œæ›å€‹é—œéµå­—è©¦è©¦ï¼Ÿ</p>";
                return;
            }
            data.forEach(item => {
                const cardHTML = `
                    <div class="card" onclick="showDetail(${item.id})">
                        <img src="${item.image}" class="card-img" onerror="this.src='https://placehold.co/300x200?text=${item.name}'">
                        <div class="card-body">
                            <div class="card-title">${item.name}</div>
                            <div class="card-tag">#${item.category}</div>
                        </div>
                    </div>`;
                menuContainer.innerHTML += cardHTML;
            });
        }

        // åˆ†é¡ç¯©é¸
        function filterMenu(category) {
            searchInput.value = "";
            document.querySelectorAll('.btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.innerText === category || (category === 'all' && btn.innerText === 'å…¨éƒ¨')) {
                    btn.classList.add('active');
                }
            });
            
            if (category === 'all') {
                renderMenu(menuData);
            } else {
                renderMenu(menuData.filter(item => item.category === category));
            }
        }

        // æœå°‹åŠŸèƒ½
        function searchMenu(keyword) {
            const lowerKeyword = keyword.toLowerCase().trim();
            document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
            if (!lowerKeyword) {
                renderCategories(); // é‡ç½®æŒ‰éˆ•ç‹€æ…‹
                renderMenu(menuData);
                return;
            }
            const filtered = menuData.filter(item => 
                item.name.toLowerCase().includes(lowerKeyword) || 
                item.ingredients.some(ing => ing.toLowerCase().includes(lowerKeyword))
            );
            renderMenu(filtered);
        }

        // å›ä¸»é 
        function goHome() {
            searchInput.value = "";
            renderCategories();
            renderMenu(menuData);
            pageTitle.innerText = "ä»Šå¤©åƒä»€éº¼ï¼Ÿ";
        }

        // é¡¯ç¤ºè©³ç´°è¦–çª— (å«è‡ªå‹•ç”¢ç”Ÿé€£çµ)
        function showDetail(id) {
            const item = menuData.find(d => d.id === id);
            document.getElementById('modalTitle').innerText = item.name;
            document.getElementById('modalImg').src = item.image;
            document.getElementById('modalImg').onerror = function() { this.src = `https://placehold.co/300x200?text=${item.name}`; };
            document.getElementById('modalCategory').innerText = item.category;
            
            // æ¸²æŸ“é£Ÿæ
            const ingArea = document.getElementById('modalIngredients');
            ingArea.innerHTML = item.ingredients.map(ing => 
                `<span class="ingredient-tag" onclick="searchIngredient('${ing}')">${ing}</span>`
            ).join('');

            // --- é‡é»æ›´æ–°ï¼šè‡ªå‹•ç”¢ç”Ÿå¤šå€‹æŒ‰éˆ• ---
            const actionArea = document.getElementById('modalActions');
            actionArea.innerHTML = `
                <a href="https://www.youtube.com/results?search_query=${item.name}+åšæ³•" target="_blank" class="action-btn btn-youtube">
                    ğŸ“º çœ‹ YouTube æ•™å­¸
                </a>
                <a href="https://www.google.com/search?q=${item.name}+é£Ÿè­œ" target="_blank" class="action-btn btn-recipe">
                    ğŸ“– æœå°‹é£Ÿè­œ (æ„›æ–™ç†/Cookpad)
                </a>
            `;

            document.getElementById('detailModal').style.display = 'flex';
        }

        // åå‘æœå°‹é£Ÿæ
        function searchIngredient(ingredientName) {
            document.getElementById('detailModal').style.display = 'none';
            searchInput.value = ingredientName;
            searchMenu(ingredientName);
            pageTitle.innerText = `ğŸ” åŒ…å«ã€Œ${ingredientName}ã€çš„æ–™ç†`;
        }

        function closeModal(e) {
            if (e.target.id === 'detailModal') e.target.style.display = 'none';
        }

        // åˆå§‹åŒ–
        renderCategories();
        renderMenu(menuData);

    </script>
</body>
</html>




